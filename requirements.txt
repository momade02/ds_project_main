# ==============================================================================
# requirements.txt â€” Python Dependencies for Tankstoppfinder (Streamlit UI + Pipeline)
# ==============================================================================
#
# Purpose
# - Defines the Python runtime dependencies required to build and run the application inside Docker
#   (and locally), including routing/integration, analytics/model utilities, UI, and persistence.
#
# Dependency groups
# - Geospatial / routing / geometry:
#   geopy, googlemaps, polyline, pyproj, shapely
# - Core data & numerics:
#   numpy, pandas, scipy
# - ML / forecasting utilities:
#   scikit-learn, joblib
# - App / UI / visualization:
#   streamlit, plotly, pydeck
# - Storage / backend integration:
#   redis, hiredis, supabase
# - Config / networking:
#   python-dotenv, requests, certifi
# ==============================================================================

# --- Geospatial / routing / geometry ---
geopy  # Geocoding + distance calculations (e.g., address -> lat/lon; distance heuristics)
googlemaps  # Google Maps API client (directions, routing, ETA, geocoding as used in your pipeline)
polyline  # Decode/encode Google route polylines (route geometry handling)
pyproj  # Coordinate reference system transforms (WGS84 <-> projected CRS where needed)
shapely  # Geometry ops (buffer/intersection/nearest points; spatial filtering)

# --- Core data & numerics ---
numpy  # Numerical arrays; vectorized computations throughout scoring/prediction pipeline
pandas  # Tabular manipulation (stations/prices joins, feature tables, outputs)
scipy  # Scientific routines (stats, interpolation, optimization helpers if used)

# --- ML / forecasting utilities ---
scikit-learn==1.6.1  # Feature transforms, model utilities, metrics; used alongside LightGBM pipeline patterns
joblib  # Model/artifact persistence + caching (serialize fitted models, preprocessors, etc.)

# --- App / UI / visualization ---
streamlit==1.52.2  # Web app framework (multi-page UI, session state, widgets)
plotly  # Interactive charts (price curves, distributions, KPIs)
pydeck  # Map visualization layer (deck.gl integration for station maps, route overlays)

# --- Storage / backend integration ---
redis==5.0.8  # Redis client (session persistence, caching, state sharing across page refreshes)
hiredis==2.4.0  # Faster Redis protocol parser (performance improvement for redis client)
supabase  # Supabase client (station/metadata storage, optional persistence layer)

# --- Config / networking ---
python-dotenv  # Load environment variables from .env (local dev parity with Azure env vars)
requests  # HTTP requests to external APIs/services (Tankerkoenig, custom endpoints, etc.)
certifi>=2024.0.0  # CA bundle for TLS verification (stabilizes SSL behavior across environments)
